<!--pages/secondRank/secondRank.wxml-->
<active-header info="{{activeHeaderInfo}}"></active-header>
<scroll-view scroll-y="{{canScroll}}" class="second-page" enable-back-to-top="true" bindscrolltolower="loadNextPage" lower-threshold="500">
    <rank-header header-info="{{headerData}}" collect-params="{{collectParams}}" bindtapmore="ontapmore" header-type="second" bindtapdetail="opendetail" bindgoAuthorize="goAuthorize"></rank-header>
    <tab header-data="{{tabHeaderData}}" bindchange="tabchange">
        <second-list wx:if="{{subType === 0}}" sub-element="{{subElement}}" last-element="{{lastElement}}" bindaddelement="addelement" bindgoinvite="listToInvite"></second-list>
        <second-discuss wx:if="{{subType === 1}}" second-id="{{secondId}}" bindaddDiscuss="addDiscuss"></second-discuss>
        <second-activity wx:if="{{subType === 2}}"></second-activity>
    </tab>
    <view class="second-page-footer"></view>
    <pop-up wx:if="{{activePopup}}" bindclose="closePopup" popup-size="{{popupSize}}" popup-show="{{showPopup}}" id="popup" catchtouchmove="ture" small-data="{{moreItems}}" bindtapSmallItem="tapMoreItem">
        <add-element slot="large" bindcancel="closePopup" bindconfirm="submitadd" wx:if="{{popupType == 'addElement'}}"></add-element>
        <add-discuss slot="large" bindcancel="closePopup" bindconfirm="submitDiscuss" wx:if="{{popupType == 'addDiscuss'}}"></add-discuss>
        <invite slot="large" bindcancel="closePopup" bindconfirm="submitInvite" wx:if="{{popupType == 'invite'}}"></invite>
        <second-detail slot="large" bindcancel="closePopup" wx:if="{{popupType == 'detail'}}" second-info="{{detailInfo}}">
        </second-detail>
    </pop-up>
</scroll-view>
<authorize catchtouchmove="ture" wx:if="{{goAuthorize}}" bindcloseAuthorize="closeAuthorize"></authorize>
<tab-bar tab-bar-list="{{tabBarList}}" bindtapItem="tabItemClick" is-index="true"></tab-bar>